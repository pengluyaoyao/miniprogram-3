# 风水户型分析小程序 PRD

## 📑 Table of Contents
- [一、产品概述](#一产品概述)
- [二、核心场景与用户故事](#二核心场景与用户故事)
- [三、信息架构（IA）](#三信息架构ia)
- [四、主要功能与流程说明](#四主要功能与流程说明)
- [五、UI 与交互规范（TDesign Weixin）](#五ui-与交互规范tdesign-weixin)
- [六、AI 分析（后端接口）](#六ai-分析后端接口)
- [七、内容发布与互动](#七内容发布与互动)
- [八、数据与存储设计](#八数据与存储设计)
- [九、权限与登录](#九权限与登录)
- [十、性能与非功能性要求](#十性能与非功能性要求)
- [十一、埋点与指标](#十一埋点与指标)
- [十二、测试与验收要点](#十二测试与验收要点)
- [十三、技术实现要点](#十三技术实现要点)
- [十四、页面组件清单](#十四页面组件清单)
- [十五、文案与提示](#十五文案与提示)
- [十六、后续规划](#十六后续规划)

---

## 一、产品概述
- **产品名称**：风水户型分析（WeChat Mini Program）  
- **一句话定位**：上传户型图 + 生辰八字 → AI 风水分析 → 优化建议 → 一键发布 & 评论互动。  
- **目标用户**：对风水、家居装修、租房布局感兴趣的用户；设计师与风水从业者。  
- **核心价值**：  
  1. 图像+文本的个性化风水分析；  
  2. 发布-评论的社区互动；  
  3. 统一 UI 设计（TDesign Weixin）。  

---

## 二、核心场景与用户故事
<details>
<summary>展开查看</summary>

1. **上传并分析**：上传户型图，填写生辰八字，获得 AI 建议。  
2. **发布求助**：点击“发布大家帮我看”，分析内容显示在首页。  
3. **我的**：  
   - 未登录：提示登录；  
   - 已登录：查看上传、发布、评论、消息。  
4. **互动**：他人评论/点赞 → 楼主收到提醒。  

</details>

---

## 三、信息架构（IA）
<details>
<summary>展开查看</summary>

- **页面**：  
  - 首页（Feed 流）  
  - 分析户型（上传+表单+结果）  
  - 户型详情（大图+报告+评论）  
  - 我的（未登录/已登录两态）  
  - 登录/授权页  
- **全局组件**：底部 TabBar（首页｜分析户型｜我的）  

</details>

---

## 四、主要功能与流程说明
<details>
<summary>展开查看</summary>

### 4.1 首页
- 展示户型卡片：缩略图、结论、点赞/评论数、作者。  
- 下拉刷新 / 上拉加载。  

### 4.2 分析户型
- 上传 1–3 张户型图。  
- 输入生辰八字、关注方面（如财位、主卧、厨房）。  
- 点击“开始分析” → AI 输出报告。  
- 生成后出现“发布大家帮我看” → 保存并回到首页。  

### 4.3 户型详情
- 大图、AI 报告、评论区（主楼+回复）。  
- 支持点赞/收藏。  

### 4.4 我的
- **未登录**：登录提示、功能预览。  
- **已登录**：上传记录、发布记录、消息中心、设置。  

</details>

---

## 五、UI 与交互规范（TDesign Weixin）
- 使用 **TDesign Weixin**：按钮、表单、卡片、Tabs、Toast 等。  
- 风格：简洁留白、卡片化。  
- 性能：切换流畅，骨架屏。  

---

## 六、AI 分析（后端接口）
<details>
<summary>展开查看</summary>

### 入参示例
```json
{
  "user_id": "wx_openid",
  "images": ["cos://plan1.jpg", "cos://plan2.jpg"],
  "birth_info": "1990-01-01 08:30 男",
  "focus": ["财位", "厨房", "主卧"],
  "meta": {"orientation": "南北", "house_type": "新房", "area_sqm": 98}
}